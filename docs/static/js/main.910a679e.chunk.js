(this["webpackJsonptournament-react"]=this["webpackJsonptournament-react"]||[]).push([[0],{129:function(e,t,a){},186:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),o=a.n(r),s=a(16),c=a.n(s),i=a(14),l=a.n(i),u=a(25),d=a(7),m=a(15),j=a(18),b=a(337),h=a(339),x=a(341),g=a(342),p=a(127),f=a.n(p),O=a(167),v=a(343);a(186);function y(e,t,a){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(u.a)(l.a.mark((function e(r,o){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://material-tournaments.herokuapp.com/api/","/api/","https://material-tournaments.herokuapp.com/api/",e.next=6,fetch("".concat("https://material-tournaments.herokuapp.com/api/").concat(t),{method:a.toUpperCase(),credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:"get"===a?void 0:JSON.stringify(n)});case 6:if(500!==(s=e.sent).status){e.next=9;break}return e.abrupt("return",o("Server Unavailable"));case 9:return e.next=11,s.json();case 11:if((c=e.sent).success){e.next=16;break}if("no-user"!==c.err){e.next=15;break}return e.abrupt("return",o("no-user"));case 15:o(c.err);case 16:r(c.result),e.next=24;break;case 19:if(e.prev=19,e.t0=e.catch(0),"Failed to fetch"!==e.t0.message){e.next=23;break}return e.abrupt("return",o("You're offline"));case 23:o(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,a,n,r,o,s,c){n(!0),setTimeout(Object(u.a)(l.a.mark((function i(){return l.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,y(e,t,a);case 3:r&&window.location.reload(),s&&s(),i.next=11;break;case 7:i.prev=7,i.t0=i.catch(0),c&&c(),o&&alert(i.t0);case 11:return i.prev=11,n(!1),i.finish(11);case 14:case"end":return i.stop()}}),i,null,[[0,7,11,14]])}))),1e3)}var C=Object(b.a)((function(e){return{root:{flexGrow:1},appBar:{flexDirection:"row-reverse"},menu:{borderRadius:30},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontWeight:"bolder",color:"whitesmoke"},links:{fontWeight:"bold",textAlign:"center"},menuIcon:{color:"whitesmoke",fontSize:30,marginLeft:50},menuIconFab:{display:"flex",justifyContent:"center",alignItems:"center",width:56,height:56,"& svg":{width:35,height:35}},linkText:{width:70,textAlign:"left"},loginText:{color:"whitesmoke",textDecoration:"none",fontSize:18},logoutText:{color:"indianred"},navLinkText:{display:"block",margin:10,padding:"10px 25px",fontSize:18,color:"darkslategray",textAlign:"left",textDecoration:"none",backgroundColor:"whitesmoke"},fab:{position:"fixed",bottom:e.spacing(8),right:e.spacing(2),opacity:.7,transition:"opacity 200ms linear","&:hover, &:focus":{opacity:1},zIndex:999}}}));function k(e){var t=e.user,a=C(),s=o.a.useState(null),c=Object(d.a)(s,2),i=c[0],j=c[1],b=function(e){j(e.currentTarget)},p=function(){j(null)},w=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("users/logout","post");case 3:window.location.reload(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),N=Object(r.useState)(!1),k=Object(d.a)(N,2),T=k[0],S=k[1];return Object(r.useEffect)((function(){var e=function(){S(window.scrollY>46)};return document.addEventListener("scroll",e),function(){return document.removeEventListener("scroll",e)}}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h.a,{position:"static",className:a.appBar,children:Object(n.jsxs)(x.a,{children:[!t&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(g.a,{color:"inherit",className:a.links,children:Object(n.jsx)(m.c,{to:{pathname:"/login",state:{prevPage:window.location.href}},className:a.loginText,children:"Login"})}),Object(n.jsx)(g.a,{color:"inherit",className:a.links,children:Object(n.jsx)(m.c,{to:{pathname:"/signup",state:{prevPage:window.location.href}},className:a.loginText,children:"Sign-up"})})]}),Object(n.jsx)(g.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:b,children:Object(n.jsx)(f.a,{className:a.menuIcon})}),Object(n.jsxs)(O.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:p,children:[Object(n.jsx)(m.b,{to:"/",onClick:p,className:a.navLinkText,children:Object(n.jsx)("span",{className:a.linkText,children:"Home"})}),Object(n.jsx)(m.b,{to:"/search",onClick:p,className:a.navLinkText,children:Object(n.jsx)("span",{className:a.linkText,children:"Search"})}),Object(n.jsx)(m.b,{to:"/new",onClick:p,className:a.navLinkText,children:Object(n.jsx)("span",{className:a.linkText,children:"New"})}),t&&Object(n.jsx)(m.b,{onClick:w,to:"#",className:a.navLinkText,children:Object(n.jsx)("span",{className:"".concat(a.linkText," ").concat(a.logoutText),children:"Logout"})})]})]})}),T&&Object(n.jsxs)(v.a,{color:"primary",className:a.fab,children:[Object(n.jsx)("span",{className:a.menuIconFab,onClick:b,children:Object(n.jsx)(f.a,{})}),Object(n.jsxs)(O.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:p,children:[Object(n.jsx)(m.b,{to:"/",onClick:p,className:a.navLinkText,children:Object(n.jsx)("span",{className:a.linkText,children:"Home"})}),Object(n.jsx)(m.b,{to:"/search",onClick:p,className:a.navLinkText,children:Object(n.jsx)("span",{className:a.linkText,children:"Search"})}),Object(n.jsx)(m.b,{to:"/new",onClick:p,className:a.navLinkText,children:Object(n.jsx)("span",{className:a.linkText,children:"New"})}),t&&Object(n.jsx)(m.b,{onClick:w,to:"#",className:a.navLinkText,children:Object(n.jsx)("span",{className:"".concat(a.linkText," ").concat(a.logoutText),children:"Logout"})})]})]})]})}var T=a(368),S=a(346),I=a(362),F=a(347),L=a(163),A=a.n(L),B=a(170),R=a(345),G=a(68),E=a(364),W=a(344),D=Object(b.a)((function(e){return{modal:{display:"flex",justifyContent:"center",alignItems:"center"},loadingContainer:{outline:"none"}}}));function U(e){var t=e.wait,a=D();return Object(n.jsx)(E.a,{open:t,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",disableBackdropClick:!0,className:a.modal,children:Object(n.jsx)(W.a,{size:100,thickness:4,className:a.loadingContainer})})}var P=a(46),K=P.a().shape({username:P.b().min(3,"Too Short - Min 6 characters").max(20,"Too Long - Max 20 characters").required("Required").matches(/^[a-z0-9]+$/i,"Must be Alphanumeric").lowercase(),email:P.b().email("Invalid email").required("Required"),password:P.b().min(6,"Too Short - Min 6 characters").max(128,"Too Long - Max 128 characters").required("Required")}),M=P.a().shape({email:P.b().email("Invalid email").required("Required")}),z=P.a().shape({searchString:P.b().min(2,"Search with at least 2 characters").required("Required")});function V(){return Object(n.jsx)(H,{page:"Log in",isCreating:!1,showUsername:!1,apiUrl:"login",validationSchema:M})}var q=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},error:{color:"red",fontSize:"1.2em",margin:"auto",textAlign:"center"}}}));function H(e){var t=q(),a=e.showUsername,o=e.page,s=e.isCreating,c=e.apiUrl,i=e.validationSchema,b=Object(r.useState)(!1),h=Object(d.a)(b,2),x=h[0],p=h[1],f=Object(r.useState)(""),O=Object(d.a)(f,2),v=O[0],w=O[1],N=Object(j.h)(),C=N.state?N.state.prevPage:"",k={username:a?"":void 0,email:"",password:""},L=Object(G.a)({initialValues:k,validationSchema:i,onSubmit:function(e){p(!0),w(""),setTimeout(Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y("users/".concat(c),"post",e);case 3:C?window.location.href=C:window.location.reload(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),w(t.t0);case 9:return t.prev=9,p(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])}))),1500)}});return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(R.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(U,{wait:x}),Object(n.jsx)(S.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(T.a,{className:t.avatar,children:Object(n.jsx)(A.a,{})}),Object(n.jsx)(B.a,{component:"h1",variant:"h5",children:o}),Object(n.jsxs)("form",{className:t.form,onSubmit:L.handleSubmit,children:[Object(n.jsxs)(F.a,{container:!0,spacing:2,children:[a&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(F.a,{item:!0,xs:12,children:Object(n.jsx)(I.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:L.handleChange,onBlur:L.handleBlur,value:L.values.username})}),Object(n.jsx)(F.a,{item:!0,className:t.error,children:L.touched.username&&L.errors.username})]}),Object(n.jsx)(F.a,{item:!0,xs:12,children:Object(n.jsx)(I.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:L.handleChange,onBlur:L.handleBlur,value:L.values.email})}),Object(n.jsx)(F.a,{item:!0,className:t.error,children:L.touched.email&&L.errors.email}),Object(n.jsx)(F.a,{item:!0,xs:12,children:Object(n.jsx)(I.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:L.handleChange,onBlur:L.handleBlur,value:L.values.password})}),Object(n.jsx)(F.a,{item:!0,className:t.error,children:L.touched.password&&L.errors.password})]}),Object(n.jsx)(F.a,{item:!0,className:t.error,children:v}),Object(n.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:o}),Object(n.jsx)(F.a,{container:!0,justify:"flex-end",children:s?Object(n.jsx)(F.a,{item:!0,children:Object(n.jsx)(m.b,{to:{pathname:"/login",state:{prevPage:window.location.href}},children:"Already have an account? Log in"})}):Object(n.jsx)(F.a,{item:!0,children:Object(n.jsx)(m.b,{to:{pathname:"/signup",state:{prevPage:window.location.href}},children:"Don't have an account? Sign Up"})})})]})]})]})})}function _(){return Object(n.jsx)(H,{page:"Sign Up",isCreating:!0,showUsername:!0,apiUrl:"signup",validationSchema:K})}var Y=a(129),J=a.n(Y),Q=(a(290),a(367)),X=a(350),$=a(351),Z=a(106),ee=a.n(Z),te=a(361),ae=a(293),ne=Object(b.a)((function(e){return{root:{width:"100%",paddingTop:10,paddingBottom:10},focusVisible:{backgroundColor:"cadetblue"},pageHeader:{color:"darkslategray",fontWeight:"bolder",whiteSpace:"nowrap",padding:10},heading:{fontSize:e.typography.pxToRem(18),fontWeight:e.typography.fontWeightRegular,color:"darkslategray"},signedOutMessage:{color:"cadetblue"},accDetails:{flexWrap:"wrap",justifyContent:"space-evenly"},addButton:{display:"flex",marginTop:10,marginBottom:10,margin:"auto",padding:10,backgroundColor:"#edf9f3","&:hover":{backgroundColor:"#c7ecd8"}}}}));function re(e){var t=e.user,a=Object(r.useState)([]),s=Object(d.a)(a,2),c=s[0],i=s[1],l=ne(),u=Object(r.useState)([]),j=Object(d.a)(u,2),b=j[0],h=j[1],x=Object(r.useState)([]),g=Object(d.a)(x,2),p=g[0],f=g[1];return Object(r.useEffect)((function(){t&&y("tournament/myTournaments","get").then((function(e){h(e.admin||[]),f(e.favorites||[])})).catch((function(e){return console.log(e)}))}),[t]),Object(r.useEffect)((function(){var e=localStorage.getItem("recentTournaments");e&&i(JSON.parse(e))}),[]),Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(S.a,{}),Object(n.jsx)(R.a,{maxWidth:"md",children:Object(n.jsxs)("div",{className:l.root,children:[Object(n.jsx)(ae.a,{elevation:2,children:Object(n.jsx)(B.a,{variant:"h5",align:"center",className:l.pageHeader,children:"MY TOURNAMENTS"})}),Object(n.jsxs)(Q.a,{defaultExpanded:!!t,children:[Object(n.jsx)(X.a,{expandIcon:Object(n.jsx)(ee.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(B.a,{className:l.heading,children:"Favorites"})}),Object(n.jsxs)($.a,{className:l.accDetails,children:[!t&&Object(n.jsx)(B.a,{className:l.signedOutMessage,children:Object(n.jsx)(m.b,{to:{pathname:"/login",state:{prevPage:window.location.href}},children:"Sign in to view your favorites"})}),t&&0===p.length&&"--",t&&p.map((function(e){return Object(n.jsx)(se,{name:e.name,isKnockout:e.isKnockout,createdBy:e.admin.username,tournamentId:e._id},e._id)}))]})]}),Object(n.jsxs)(Q.a,{defaultExpanded:!0,children:[Object(n.jsx)(X.a,{expandIcon:Object(n.jsx)(ee.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(n.jsx)(B.a,{className:l.heading,children:"Recent (On this browser)"})}),Object(n.jsxs)($.a,{className:l.accDetails,children:[0===c.length&&"--",c.map((function(e){return Object(n.jsx)(se,{name:e.name,isKnockout:e.isKnockout,createdBy:e.createdBy,tournamentId:e.tournamentId},e.tournamentId)}))]})]}),Object(n.jsxs)(Q.a,{defaultExpanded:!!t,children:[Object(n.jsx)(X.a,{expandIcon:Object(n.jsx)(ee.a,{}),"aria-controls":"panel3a-content",id:"panel3a-header",children:Object(n.jsx)(B.a,{className:l.heading,children:"Admin"})}),Object(n.jsxs)($.a,{className:l.accDetails,children:[!t&&Object(n.jsx)(B.a,{className:l.signedOutMessage,children:Object(n.jsx)(m.b,{to:{pathname:"/login",state:{prevPage:window.location.href}},children:"Sign in to view tournaments you manage"})}),t&&b.map((function(e){return Object(n.jsx)(se,{name:e.name,isKnockout:e.isKnockout,createdBy:e.admin.username,tournamentId:e._id},e._id)}))]})]})]})})]})}var oe=Object(b.a)((function(e){return{tournamentBox:{display:"flex",flexDirection:"column",padding:5,margin:5,borderRadius:5,width:"48%",minWidth:270,maxWidth:"100%"},linkButton:{textAlign:"left",textDecoration:"none",padding:10,borderRadius:5,backgroundColor:"#f3edf9","&:hover":{backgroundColor:"#f3edf9"}},name:{paddingTop:5,paddingBottom:5,fontWeight:e.typography.fontWeightBold,width:"100%",textAlign:"left"},tournamentInfo:{padding:5,paddingLeft:10,textAlign:"left",fontStyle:"italic",color:"darkslategray",backgroundColor:"whitesmoke"}}}));function se(e){var t=e.name,a=e.createdBy,r=e.isKnockout,o=e.tournamentId,s=oe();return Object(n.jsxs)(te.a,{className:"".concat(s.tournamentBox),size:"large",children:[Object(n.jsx)(m.b,{to:"/tournament/".concat(o),className:s.linkButton,variant:"contained",children:Object(n.jsx)(B.a,{className:s.name,children:t})}),Object(n.jsxs)(B.a,{paragraph:!0,className:s.tournamentInfo,children:["Type: ",r?"Knockout":"League",Object(n.jsx)("br",{}),"Created by ",a]})]})}var ce=a(166),ie=a.n(ce),le=a(363),ue=a(352),de=a(81),me=a.n(de),je=a(23),be=a(168);function he(e){var t=e.children,a=e.value,r=e.index,o=Object(be.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(je.a)(Object(je.a)({role:"tabpanel",hidden:a!==r,id:"scrollable-force-tabpanel-".concat(r),"aria-labelledby":"scrollable-force-tab-".concat(r)},o),{},{children:a===r&&Object(n.jsx)(n.Fragment,{children:t})}))}var xe=a(37),ge=Object(b.a)((function(e){return{root:{flexGrow:1,width:"100%"},resultsContainer:{paddingTop:15,paddingLeft:5,paddingRight:5,display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",alignItems:"center"},resultSet:{minWidth:"40%",marginBottom:15,backgroundColor:"whitesmoke"},resultBox:{display:"flex",minHeight:45,padding:"10px 0",justifyContent:"center",alignItems:"center"},tieBreaker:{backgroundColor:"pink"},tieBreakerText:{textAlign:"center",fontWeight:"bold",color:"purple"},goals:{display:"flex",alignItems:"center",justifyContent:"center",height:40,width:40,marginLeft:2,marginRight:2,borderRadius:4,backgroundColor:"#C71585",color:"whitesmoke",fontFamily:"'Rubik Mono One', sans-serif !important"},team:{width:95,minWidth:95,alignSelf:"center",fontWeight:"bold",fontSize:15,wordBreak:"break-word",textAlign:"center"},homeTeam:{paddingRight:10},awayTeam:{paddingLeft:10},advanced:{color:"seagreen"},submit:{marginTop:10,marginBottom:20,width:"80%"},error:{color:"red",fontWeight:"bold",fontSize:"1.2em",margin:"auto",textAlign:"center"},resultInput:{textAlign:"center",fontWeight:"bolder",backgroundColor:"white"},closed:{fontWeight:"bold"},teamBadge:{width:25,height:25,margin:"0 5px","& svg, & path":{width:20,height:20}}}}));function pe(e){return function(t){var a=t.target.name,n=t.target.value;t.target.style.backgroundColor="white",""===n||!isNaN(parseInt(n))&&parseFloat(n)%1===0?e((function(e){return Object(je.a)(Object(je.a)({},e),{},Object(xe.a)({},a,n))})):t.target.style.backgroundColor="#f4c7c7"}}function fe(e){return 0===e||"0"===e?"0":e||""}function Oe(e,t,a){isNaN(e)||isNaN(t)?a.push(null):a.push([e,t])}function ve(e,t,a){if(!isNaN(e)&&!isNaN(t)){var n=a[a.length-1];n&&n.push(e,t)}}function ye(e,t,a){if(t<0)return document.getElementById(e).style.backgroundColor="#f4c7c7",!0;var n=document.getElementById(a);return!isNaN(t)&&!n.value&&(n.style.backgroundColor="#f4c7c7",!0)}function we(e){var t=e.roundFixtures,a=e.teams,o=e.useTwoLegs,s=e.tournamentId,c=e.isUpdatingResults,i=e.isCurrentRound,l=e.isFinal,u=e.useOneFinal,m=Object(r.useState)(!1),j=Object(d.a)(m,2),b=j[0],h=j[1],x=ge(),p=function(e,a){var n,r,o,s,c;return e.isEmpty?n=r="(empty)":t[e.opponentIndex].isEmpty?(n=a[e.teamIndex].teamName,s=a[e.teamIndex].teamLogo,r="(empty)",o=!0):(n=a[e.teamIndex].teamName,s=a[e.teamIndex].teamLogo,r=a[t[e.opponentIndex].teamIndex].teamName,c=a[t[e.opponentIndex].teamIndex].teamLogo),{firstTeam:n,secondTeam:r,automaticWinner:o,firstTeamLogo:s,secondTeamLogo:c}},f=Object(r.useState)({}),O=Object(d.a)(f,2),v=O[0],y=O[1],w=pe(y),C=function(e,t){y((function(a){return Object(je.a)(Object(je.a)({},a),{},Object(xe.a)({},e,t))}))},k=function(){for(var e=t.length,a=[],n=0;n<e;n++){if(!o&&n%2===1)return a.push(null);var r=parseInt(v["homeGoalsFor".concat(n)]),c=parseInt(v["homeGoalsAgainst".concat(n)]),i=parseInt(v["tieBreakerGoalsFor".concat(n)]),d=parseInt(v["tieBreakerGoalsAgainst".concat(n)]),m=parseInt(v["neutralGoalsFor".concat(n)]),j=parseInt(v["neutralGoalsAgainst".concat(n)]);if(!o||l&&u){if(ye("neutralGoalsFor".concat(n),m,"neutralGoalsAgainst".concat(n)))return;if(ye("neutralGoalsAgainst".concat(n),j,"neutralGoalsFor".concat(n)))return;Oe(m,j,a)}else{if(ye("homeGoalsFor".concat(n),r,"homeGoalsAgainst".concat(n)))return;if(ye("homeGoalsAgainst".concat(n),c,"homeGoalsFor".concat(n)))return;Oe(r,c,a)}if(ye("tieBreakerGoalsFor".concat(n),i,"tieBreakerGoalsAgainst".concat(n)))return;if(ye("tieBreakerGoalsAgainst".concat(n),d,"tieBreakerGoalsFor".concat(n)))return;ve(i,d,a)}var b={results:a};N("tournament/".concat(s,"/knockoutResults"),"put",b,h,!0,!0)};return Object(n.jsxs)(R.a,{className:x.resultsContainer,children:[Object(n.jsx)(U,{wait:b}),!i&&c?Object(n.jsx)(F.a,{item:!0,className:x.error,children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)("span",{className:x.closed,children:"THIS ROUND IS CLOSED"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"TO UPDATE RESULTS ON THIS TAB, CLEAR THE CURRENT ROUND FIXTURES"]})}):c&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(F.a,{item:!0,className:x.error,children:Object(n.jsxs)(B.a,{children:["ALL UNSAVED CHANGES WILL BE CLEARED WHEN SWITCHING TABS",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"ONLY FULL MATCH RESULT ENTRIES ARE SAVED"]})}),Object(n.jsx)(g.a,{type:"button",variant:"contained",color:"secondary",className:x.submit,onClick:k,disabled:!i,children:"Save Results"})]}),o&&!(l&&u)&&t.map((function(e,t){if(t%2===1)return null;var r=p(e,a),o=r.firstTeam,s=r.firstTeamLogo,l=r.secondTeam,u=r.secondTeamLogo,d=r.automaticWinner,m=fe(e.home.goalsFor),j=fe(e.home.goalsAgainst),b=fe(e.away.goalsFor),h=fe(e.away.goalsAgainst),g=fe(e.tieBreaker&&e.tieBreaker.goalsFor),f=fe(e.tieBreaker&&e.tieBreaker.goalsAgainst);return Object(n.jsxs)(ae.a,{className:x.resultSet,children:[Object(n.jsx)(ke,{home:o,homeLogo:s,away:l,awayLogo:u,homeAutoAdvance:d,goalsFor:m||"-",goalsAgainst:j||"-",isUpdatingResults:c,goalsForComp:Object(n.jsx)(Ce,{defaultValue:m,name:"homeGoalsFor".concat(t),onChange:w,onMount:C,disabled:d||!i}),goalsAgainstComp:Object(n.jsx)(Ce,{defaultValue:j,name:"homeGoalsAgainst".concat(t),onChange:w,onMount:C,disabled:d||!i})}),e.tieBreaker&&Object(n.jsx)(ke,{home:o,homeLogo:s,away:l,awayLogo:u,goalsFor:g||"-",goalsAgainst:f||"-",isUpdatingResults:c,isTieBreaker:!0,goalsForComp:Object(n.jsx)(Ce,{defaultValue:g,name:"tieBreakerGoalsFor".concat(t),onChange:w,onMount:C,disabled:!i}),goalsAgainstComp:Object(n.jsx)(Ce,{defaultValue:f,name:"tieBreakerGoalsAgainst".concat(t),onChange:w,onMount:C,disabled:!i})}),Object(n.jsx)(ke,{home:l,away:o,homeLogo:u,awayLogo:s,awayAutoAdvance:d,goalsFor:h||"-",goalsAgainst:b||"-",isUpdatingResults:c,goalsForComp:Object(n.jsx)(Ce,{defaultValue:h,name:"homeGoalsFor".concat(t+1),onChange:w,onMount:C,disabled:d||!i}),goalsAgainstComp:Object(n.jsx)(Ce,{defaultValue:b,name:"homeGoalsAgainst".concat(t+1),onChange:w,onMount:C,disabled:d||!i})})]},t)})),(!o||l&&u)&&t.map((function(e,t){if(t%2===1)return null;var r=p(e,a),o=r.firstTeam,s=r.firstTeamLogo,l=r.secondTeam,u=r.secondTeamLogo,d=r.automaticWinner,m=fe(e.neutral.goalsFor),j=fe(e.neutral.goalsAgainst),b=fe(e.tieBreaker&&e.tieBreaker.goalsFor),h=fe(e.tieBreaker&&e.tieBreaker.goalsAgainst);return Object(n.jsxs)(ae.a,{className:x.resultSet,children:[Object(n.jsx)(ke,{home:o,homeLogo:s,away:l,awayLogo:u,homeAutoAdvance:d,goalsFor:m||"-",goalsAgainst:j||"-",isUpdatingResults:c,goalsForComp:Object(n.jsx)(Ce,{defaultValue:m,name:"neutralGoalsFor".concat(t),onChange:w,onMount:C,disabled:d||!i}),goalsAgainstComp:Object(n.jsx)(Ce,{defaultValue:j,name:"neutralGoalsAgainst".concat(t),onChange:w,onMount:C,disabled:d||!i})}),e.tieBreaker&&Object(n.jsx)(ke,{home:o,homeLogo:s,away:l,awayLogo:u,goalsFor:b||"-",goalsAgainst:h||"-",isUpdatingResults:c,isTieBreaker:!0,goalsForComp:Object(n.jsx)(Ce,{defaultValue:b,name:"tieBreakerGoalsFor".concat(t),onChange:w,onMount:C,disabled:!i}),goalsAgainstComp:Object(n.jsx)(Ce,{defaultValue:h,name:"tieBreakerGoalsAgainst".concat(t),onChange:w,onMount:C,disabled:!i})})]},t)})),c&&Object(n.jsx)(g.a,{type:"button",variant:"contained",color:"secondary",className:x.submit,onClick:k,disabled:!i,children:"Save Results"})]})}function Ne(e){var t=e.teamFixtures,a=e.teamName,o=e.teamLogo,s=e.teamIndex,c=e.teams,i=e.useTwoLegs,l=e.tournamentId,u=e.isUpdatingResults,m=Object(r.useState)(!1),j=Object(d.a)(m,2),b=j[0],h=j[1],x=ge(),p=Object(r.useState)({}),f=Object(d.a)(p,2),O=f[0],v=f[1],y=pe(v),w=function(e,t){v((function(a){return Object(je.a)(Object(je.a)({},a),{},Object(xe.a)({},e,t))}))},C=function(){for(var e=c.length,t=[],a=[],n=[],r=0;r<e;r++){var o=parseInt(O["homeGoalsFor".concat(r)]),u=parseInt(O["homeGoalsAgainst".concat(r)]),d=parseInt(O["awayGoalsFor".concat(r)]),m=parseInt(O["awayGoalsAgainst".concat(r)]),j=parseInt(O["neutralGoalsFor".concat(r)]),b=parseInt(O["neutralGoalsAgainst".concat(r)]);if(i){if(ye("homeGoalsFor".concat(r),o,"homeGoalsAgainst".concat(r)))return;if(ye("homeGoalsAgainst".concat(r),u,"homeGoalsFor".concat(r)))return;if(ye("awayGoalsFor".concat(r),d,"awayGoalsAgainst".concat(r)))return;if(ye("awayGoalsAgainst".concat(r),m,"awayGoalsFor".concat(r)))return;Oe(o,u,t),Oe(d,m,a)}else{if(ye("neutralGoalsFor".concat(r),j,"neutralGoalsAgainst".concat(r)))return;if(ye("neutralGoalsAgainst".concat(r),b,"neutralGoalsFor".concat(r)))return;Oe(j,b,n)}}var x={teamIndex:s,home:t,away:a,neutral:n};N("tournament/".concat(l,"/leagueResults"),"put",x,h,!0,!0)};return Object(n.jsxs)(R.a,{className:x.resultsContainer,children:[Object(n.jsx)(U,{wait:b}),u&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(F.a,{item:!0,className:x.error,children:Object(n.jsxs)(B.a,{children:["ALL UNSAVED CHANGES WILL BE CLEARED WHEN SWITCHING TABS",Object(n.jsx)("br",{}),"ONLY FULL MATCH RESULT ENTRIES ARE SAVED"]})}),Object(n.jsx)(g.a,{type:"button",variant:"contained",color:"secondary",className:x.submit,onClick:C,children:"Save Results"})]}),i&&t.home.map((function(e,r){if(e&&e.isSameTeam)return null;var s=e&&e.goalsFor.toString(),l=e&&e.goalsAgainst.toString(),d=t.away[r]&&t.away[r].goalsFor.toString(),m=t.away[r]&&t.away[r].goalsAgainst.toString();return Object(n.jsxs)(ae.a,{className:x.resultSet,children:[Object(n.jsx)(ke,{home:a,homeLogo:o,away:c[r].teamName,awayLogo:c[r].teamLogo,goalsFor:s,goalsAgainst:l,handleResults:y,useTwoLegs:i,isUpdatingResults:u,goalsForComp:Object(n.jsx)(Ce,{defaultValue:s||"",name:"homeGoalsFor".concat(r),onChange:y,onMount:w}),goalsAgainstComp:Object(n.jsx)(Ce,{defaultValue:l||"",name:"homeGoalsAgainst".concat(r),onChange:y,onMount:w})}),Object(n.jsx)(ke,{home:c[r].teamName,homeLogo:c[r].teamLogo,away:a,awayLogo:o,goalsFor:m,goalsAgainst:d,handleResults:y,useTwoLegs:i,isUpdatingResults:u,goalsForComp:Object(n.jsx)(Ce,{defaultValue:m||"",name:"awayGoalsAgainst".concat(r),onChange:y,onMount:w}),goalsAgainstComp:Object(n.jsx)(Ce,{defaultValue:d||"",name:"awayGoalsFor".concat(r),onChange:y,onMount:w})})]},r)})),!i&&t.neutral.map((function(e,t){if(e&&e.isSameTeam)return null;var r=e&&e.goalsFor.toString(),s=e&&e.goalsAgainst.toString();return Object(n.jsx)(ae.a,{className:x.resultSet,children:Object(n.jsx)(ke,{home:a,homeLogo:o,away:c[t].teamName,awayLogo:c[t].teamLogo,goalsFor:r,goalsAgainst:s,handleResults:y,useTwoLegs:i,isUpdatingResults:u,goalsForComp:Object(n.jsx)(Ce,{defaultValue:r||"",name:"neutralGoalsFor".concat(t),onChange:y,onMount:w}),goalsAgainstComp:Object(n.jsx)(Ce,{defaultValue:s||"",name:"neutralGoalsAgainst".concat(t),onChange:y,onMount:w})})},t)})),u&&Object(n.jsx)(g.a,{type:"button",variant:"contained",color:"secondary",className:x.submit,onClick:C,children:"Save Results"})]})}function Ce(e){var t=e.name,a=e.defaultValue,o=e.onChange,s=e.onMount,c=e.disabled,i=ge();return Object(r.useEffect)((function(){s(t,a)}),[]),Object(n.jsx)(I.a,{defaultValue:a,disabled:c,id:t,inputProps:{max:999,min:0,className:i.resultInput},name:t,placeholder:"-",onChange:o,required:!0,type:"number",variant:"outlined"})}function ke(e){var t=ge(),a=e.home,r=e.away,o=e.goalsFor,s=e.goalsAgainst,c=e.homeAutoAdvance,i=e.awayAutoAdvance,l=e.isUpdatingResults,u=e.goalsForComp,d=e.goalsAgainstComp,m=e.isTieBreaker,j=e.homeLogo,b=e.awayLogo;return Object(n.jsxs)(n.Fragment,{children:[m&&Object(n.jsx)(te.a,{className:t.tieBreaker,children:Object(n.jsx)(B.a,{className:t.tieBreakerText,children:"TIE-BREAKER"})}),Object(n.jsxs)(te.a,{className:"".concat(t.resultBox," ").concat(m?t.tieBreaker:""),children:[!l&&Object(n.jsx)(T.a,{alt:"Team badge",src:j,className:t.teamBadge,children:!j&&Object(n.jsx)(me.a,{})}),Object(n.jsxs)(B.a,{className:"".concat(t.team," ").concat(t.homeTeam),children:[a,c&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:t.advanced,children:"(auto adv)"})]})]}),!l&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(B.a,{className:t.goals,children:isNaN(parseInt(o))?"-":o}),Object(n.jsx)(B.a,{className:t.goals,children:isNaN(parseInt(s))?"-":s})]}),l&&Object(n.jsxs)(n.Fragment,{children:[u,d]}),Object(n.jsxs)(B.a,{className:"".concat(t.team," ").concat(t.awayTeam),children:[r,i&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:t.advanced,children:"(auto adv)"})]})]}),!l&&Object(n.jsx)(T.a,{alt:"Team badge",src:b,className:t.teamBadge,children:!b&&Object(n.jsx)(me.a,{})})]})]})}var Te=Object(b.a)((function(e){return{root:{flexGrow:1,width:"100%"},tabPanelContainer:{marginTop:10},appBarContainer:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:10}}})),Se={roundOf32:"Round of 32",roundOf16:"Last 16",roundOf8:"Quarter-Finals",roundOf4:"Semi-Finals",roundOf2:"Final"};function Ie(e){var t=e.teams,a=e.fixtures,o=e.useTwoLegs,s=e.useOneFinal,c=e.isUpdatingResults,i=e.tournamentId,l=a.startingRound,u=a.currentRound,m=Te(),j=Object(r.useState)(u),b=Object(d.a)(j,2),x=b[0],g=b[1],p=Object(r.useState)([]),f=Object(d.a)(p,2),O=f[0],v=f[1];Object(r.useEffect)((function(){if(l&&u){var e=parseInt(l.slice(7)),t=parseInt(u.slice(7)),a=[];do{a.push("roundOf".concat(e)),e/=2}while(e>=t);v(a)}}),[l,u]);return 0===O.length?null:Object(n.jsxs)(ae.a,{className:m.root,children:[Object(n.jsx)(h.a,{position:"sticky",color:"default",className:m.appBarContainer,children:Object(n.jsx)(le.a,{value:x,onChange:function(e,t){g(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on","aria-label":"scrollable auto tabs example",children:O.map((function(e,t){return Object(n.jsx)(ue.a,{value:e,label:Se[e]},t)}))})}),Object(n.jsx)(te.a,{className:m.tabPanelContainer,children:O.map((function(e){return Object(n.jsx)(he,{index:e,value:x,children:Object(n.jsx)(we,{roundFixtures:a[e],teams:t,useTwoLegs:o,useOneFinal:s,tournamentId:i,isCurrentRound:x===a.currentRound,isFinal:"roundOf2"===x,isUpdatingResults:c})},e)}))})]})}function Fe(e){var t=e.teams,a=e.fixtures,o=e.useTwoLegs,s=e.isUpdatingResults,c=e.tournamentId,i=Te(),l=Object(r.useState)(0),u=Object(d.a)(l,2),m=u[0],j=u[1];return Object(n.jsxs)(ae.a,{className:i.root,children:[Object(n.jsx)(h.a,{position:"sticky",color:"default",className:i.appBarContainer,children:Object(n.jsx)(le.a,{value:m,onChange:function(e,t){j(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on","aria-label":"scrollable auto tabs example",children:t.map((function(e,t){return Object(n.jsx)(ue.a,{label:e.teamName},t)}))})}),Object(n.jsx)(te.a,{className:i.tabPanelContainer,children:t.map((function(e,r){return Object(n.jsx)(he,{index:r,value:m,children:Object(n.jsx)(Ne,{teamFixtures:a[r],teams:t,useTwoLegs:o,teamName:e.teamName,teamLogo:e.teamLogo,teamIndex:r,tournamentId:c,isUpdatingResults:s})},r)}))})]})}var Le=a(5),Ae=a(356),Be=a(358),Re=a(353),Ge=a(355),Ee=a(357),We=a(354),De=Object(Le.a)((function(e){return{head:{width:35,paddingLeft:0,paddingRight:0,color:e.palette.common.white,backgroundColor:"#4e4eb1"},body:{paddingLeft:0,paddingRight:0,fontSize:14,border:"1px solid rgba(224, 224, 224, 0.3)"}}}))(Re.a),Ue=Object(b.a)({table:{minWidth:"fit-content"},teamName:{fontWeight:"bold",paddingLeft:10,paddingRight:5}}),Pe=Object(Le.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(We.a);function Ke(e){var t=Ue(),a=e.tableData.map((function(e,t){return a=t+1,n=e.teamDetails.teamName.toUpperCase(),r=e.played,o=e.won,s=e.drawn,c=e.lost,i=e.goalsFor,l=e.goalsAgainst,u=e.goalDifference,d=e.points,{position:a,teamName:n,played:r,won:o,drawn:s,lost:c,goalsFor:i,goalsAgainst:l,goalDifference:u,points:d};var a,n,r,o,s,c,i,l,u,d}));return Object(n.jsx)(Ge.a,{component:ae.a,children:Object(n.jsxs)(Ae.a,{className:t.table,"aria-label":"customized table",size:"medium",stickyHeader:!0,children:[Object(n.jsx)(Ee.a,{children:Object(n.jsx)(We.a,{children:["Pos","Team","Pl","W","D","L","GF","GA","GD","Pts"].map((function(e,t){return Object(n.jsx)(De,{align:"center",size:"small",children:e},t)}))})}),Object(n.jsx)(Be.a,{children:a.map((function(e){return Object(n.jsx)(Pe,{children:["position","teamName","played","won","drawn","lost","goalsFor","goalsAgainst","goalDifference","points"].map((function(a,r){return Object(n.jsx)(De,{align:"teamName"===a?"left":"center",size:"small",className:t[a],children:e[a]},r)}))},"".concat(e.teamName).concat(e.points))}))})]})})}function Me(e){return Object(n.jsx)(Ke,{tableData:e.tableData})}var ze=a(349),Ve=a(359),qe=a(366),He=a(369),_e=a(365),Ye=a(164),Je=a.n(Ye),Qe=Object(b.a)((function(e){return{paper:{padding:20,display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2),height:60,fontSize:19},typeLabel:{display:"flex",flexDirection:"row",alignItems:"center"},tournamentType:{display:"flex",flexDirection:"row",marginLeft:20,marginRight:20},nameField:{borderRadius:5,fontSize:20},checkbox:{"& input":{}},checkboxLabel:{fontWeight:"bold",fontSize:20},moreInfo:{color:"dimgray"},error:{color:"red",fontSize:"1.2em",margin:"auto",textAlign:"center"}}}));function Xe(e){return Object(n.jsx)($e,{isCreating:!0,user:e.user})}function $e(e){var t=e.isCreating,a=e.tournament,o=e.user,s=a=a||{},c=s.isKnockout,i=s.useRealTeams,b=s.useTwoLegs,h=s.useOneFinal,x=s.useAwayGoals,p=s.name,f=s._id,O=s.hasLeagueFixturesGenerated,v=s.currentRound,w=O||!!v,N=Qe(),C=Object(r.useState)(!1),k=Object(d.a)(C,2),L=k[0],A=k[1],E=Object(r.useState)(""),W=Object(d.a)(E,2),D=W[0],P=W[1],K=Object(r.useState)({isKnockout:t?null:c?1:0,useRealTeams:i?1:0,useTwoLegs:b?1:0,useOneFinal:h?1:0,useAwayGoals:x?1:0}),M=Object(d.a)(K,2),z=M[0],V=M[1],q=function(e){return function(t){if(!t.target.checked)return V((function(t){return Object(je.a)(Object(je.a)({},t),{},Object(xe.a)({},e,0))}));V((function(a){return Object(je.a)(Object(je.a)({},a),{},Object(xe.a)({},e,parseInt(t.target.value)))}))}},H=Object(j.g)(),_=Object(G.a)({initialValues:{name:p||""},onSubmit:function(e){A(!0),P("");var a=Object.assign(e,z);if(null===e.isKnockout)return A(!1),P("Tournament type required");setTimeout(Object(u.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t?"tournament":"tournament/".concat(f),r=t?"post":"put",e.next=5,y(n,r,a);case 5:t?H.push("/"):window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),P(e.t0);case 11:return e.prev=11,A(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])}))),2e3)}});return t&&!o?Object(n.jsx)(R.a,{component:"main",maxWidth:"md",style:{padding:"30px"},children:Object(n.jsx)(B.a,{children:Object(n.jsx)(m.b,{to:{pathname:"/login",state:{prevPage:window.location.href}},children:"Log in to create tournaments."})})}):Object(n.jsxs)(R.a,{component:"main",maxWidth:"md",children:[Object(n.jsx)(S.a,{}),Object(n.jsx)(U,{wait:L}),Object(n.jsxs)("div",{className:N.paper,children:[Object(n.jsx)(T.a,{className:N.avatar,children:Object(n.jsx)(Je.a,{})}),Object(n.jsx)(B.a,{component:"h1",variant:"h5",children:t?"New Tournament":"Update Tournament"}),Object(n.jsxs)("form",{className:N.form,onSubmit:_.handleSubmit,children:[Object(n.jsxs)(F.a,{container:!0,spacing:2,children:[Object(n.jsx)(F.a,{item:!0,xs:12,children:Object(n.jsx)(I.a,{variant:"outlined",required:!0,fullWidth:!0,type:"text",id:"name",label:"Tournament Name",name:"name",autoComplete:"tournamentName",InputProps:{className:N.nameField},value:_.values.name,onChange:_.handleChange})}),Object(n.jsx)(F.a,{item:!0,className:N.error,children:_.touched.name&&_.errors.name}),Object(n.jsx)(F.a,{item:!0,className:N.error,children:w&&Object(n.jsxs)(B.a,{children:["You can only change the name as this tournament is already in progress.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"In order to update other settings, reset the tournament's fixtures."]})}),Object(n.jsx)(F.a,{item:!0,xs:12,children:Object(n.jsxs)(ze.a,{component:"fieldset",className:N.typeLabel,children:[Object(n.jsx)(B.a,{children:"Type: "}),Object(n.jsxs)(He.a,{"aria-label":"isKnockout",name:"isKnockout",value:z.isKnockout,onChange:q("isKnockout"),className:N.tournamentType,children:[Object(n.jsx)(Ve.a,{value:0,disabled:w,control:Object(n.jsx)(_e.a,{}),label:Object(n.jsx)(B.a,{className:N.checkboxLabel,children:"League"})}),Object(n.jsx)(Ve.a,{value:1,disabled:w,control:Object(n.jsx)(_e.a,{}),label:Object(n.jsx)(B.a,{className:N.checkboxLabel,children:"Knockout"})})]})]})}),Object(n.jsx)(Ze,{value:1,disabled:w,checked:!!z.useRealTeams,onChange:q("useRealTeams"),label:"Use Real Teams",moreInfoComponent:Object(n.jsx)(B.a,{className:N.moreInfo,children:"Show real club options when adding teams"})}),Object(n.jsx)(Ze,{value:1,disabled:w,checked:!!z.useTwoLegs,onChange:q("useTwoLegs"),label:"Use Two Legs",moreInfoComponent:Object(n.jsx)(B.a,{className:N.moreInfo,children:"Each encounter will have a home and away match"})}),Object(n.jsx)(Ze,{value:1,disabled:null===z.isKnockout||0===z.isKnockout||1!==z.useTwoLegs||w,checked:!!z.useOneFinal,onChange:q("useOneFinal"),label:"Use One Leg Final",moreInfoComponent:Object(n.jsxs)(B.a,{className:N.moreInfo,children:['Only enabled if type is Knockout and "Use Two Legs" is selected',Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"For knockout tournaments with two legs, the final will have only one neutral match"]})}),Object(n.jsx)(Ze,{value:1,disabled:null===z.isKnockout||0===z.isKnockout||1!==z.useTwoLegs||w,checked:!!z.useAwayGoals,onChange:q("useAwayGoals"),label:"Use Away Goals Tiebreaker",moreInfoComponent:Object(n.jsxs)(B.a,{className:N.moreInfo,children:['Only enabled if type is Knockout and "Use Two Legs" is selected',Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"If the round is still a tie after both home and away matches are completed, the team who scored more goals away will progress to the next round."]})}),Object(n.jsx)(F.a,{item:!0,className:N.error,children:D})]}),Object(n.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:N.submit,children:"Save"})]})]})]})}function Ze(e){var t=Qe(),a=e.value,r=e.disabled,o=e.onChange,s=e.checked,c=e.moreInfoComponent,i=e.label;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(F.a,{item:!0,xs:12,children:Object(n.jsx)(Ve.a,{label:Object(n.jsx)(B.a,{className:t.checkboxLabel,children:i}),control:Object(n.jsx)(qe.a,{className:t.checkbox,value:a,color:"secondary",disabled:r,onChange:o,checked:s})})}),Object(n.jsx)(F.a,{container:!0,justify:"flex-start",children:Object(n.jsx)(F.a,{item:!0,children:c})})]})}var et=Object(b.a)((function(e){return{container:{display:"flex",flexDirection:"column",padding:20,justifyContent:"center",alignItems:"center"},error:{color:"red",fontSize:"1.2em",margin:"auto",textAlign:"center"},actionSet:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"100%",marginTop:10,marginBottom:10,paddingTop:10,paddingBottom:10,paddingRight:5,backgroundColor:"wheat"},resetContainer:{display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%"},submit:{margin:15,height:"fit-content",width:"fit-content",padding:"10px 30px",fontSize:19,flex:.3},moreInfo:{flex:.7},confirmActionInput:{flex:.7,marginRight:20},actionButtonLabel:{fontSize:15}}}));function tt(e){var t=e.setAdminPage,a=e.tournamentId,o=e.tournament,s=Object(r.useState)(!1),c=Object(d.a)(s,2),i=c[0],l=c[1],u=Object(r.useState)(!1),m=Object(d.a)(u,2),j=m[0],b=m[1],h=Object(r.useState)(!1),x=Object(d.a)(h,2),g=x[0],p=x[1],f=Object(r.useState)(!1),O=Object(d.a)(f,2),v=O[0],y=O[1],w=function(e){return function(){return t(e)}},C=et();return Object(n.jsxs)(R.a,{className:C.container,children:[Object(n.jsx)(U,{wait:i}),Object(n.jsx)(at,{primaryButtonText:"Change Tournament Settings",onClickPrimary:w("settings"),useSecondary:!1,moreInfoComponent:Object(n.jsxs)(B.a,{className:C.moreInfo,children:["Modify tournament settings.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Some settings will be disabled if tournament is already in progress."]})}),Object(n.jsx)(at,{primaryButtonText:"Update Team/Player Names",onClickPrimary:w("teams"),useSecondary:!1,moreInfoComponent:Object(n.jsxs)(B.a,{className:C.moreInfo,children:["Add teams and their owners (player names).",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"All teams are required to have a name for fixtures can be generated."]})}),o.isKnockout&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(at,{primaryButtonText:"Generate next knockout round fixtures",onClickPrimary:function(){N("tournament/".concat(a,"/knockoutFixtures"),"post",{},l,!1,!0,(function(){return window.location.href="tournament/".concat(a,"/fixtures")}))},useSecondary:!1,disabled:!o.isKnockout||o.isComplete,moreInfoComponent:Object(n.jsxs)(B.a,{className:C.moreInfo,children:["Create fixtures for the next round using the existing teams or winners from the last round.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"All teams are required to have a name before fixtures can be generated.",Object(n.jsx)("br",{}),"You will be unable to change team names after performing this action."]})}),Object(n.jsx)(at,{primaryButtonText:"Reset Current Round",secondaryButtonText:"Confirm Reset",onClickPrimary:function(){p((function(e){return!e}))},onClickSecondary:function(){if(!["round","Round","ROUND"].includes(document.getElementById("confirmResetRound").value))return alert("Type 'round' to complete this action");N("tournament/".concat(a,"/resetRound?round=").concat(o.currentRound),"delete",{},l,!0,!0)},color:"secondary",useSecondary:g,disabled:!o.isKnockout||!o.currentRound,inputId:"confirmResetRound",inputLabel:"Type 'round' to confirm this action",moreInfoComponent:Object(n.jsx)(B.a,{className:C.moreInfo,children:"Clear current round fixtures and go back to previous round."})})]}),!o.isKnockout&&Object(n.jsx)(at,{primaryButtonText:"Generate League Fixtures",onClickPrimary:function(){N("tournament/".concat(a,"/leagueFixtures"),"post",{},l,!1,!0,(function(){return window.location.href="tournament/".concat(a,"/fixtures")}))},useSecondary:!1,disabled:o.isKnockout||o.hasLeagueFixturesGenerated,moreInfoComponent:Object(n.jsxs)(B.a,{className:C.moreInfo,children:["Create league fixtures for all teams.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"All teams are required to have a name before fixtures can be generated.",Object(n.jsx)("br",{}),"You will be unable to change team names after performing this action."]})}),Object(n.jsx)(at,{primaryButtonText:"Reset All Fixtures",secondaryButtonText:"Confirm Reset",onClickPrimary:function(){b((function(e){return!e}))},onClickSecondary:function(){if(!["reset","Reset","RESET"].includes(document.getElementById("confirmReset").value))return alert("Type 'reset' to complete this action");N("tournament/".concat(a,"/resetAllFixtures"),"delete",{},l,!0,!0)},color:"secondary",useSecondary:j,disabled:!o.hasLeagueFixturesGenerated&&!o.currentRound,inputId:"confirmReset",inputLabel:"Type 'reset' to confirm this action",moreInfoComponent:Object(n.jsx)(B.a,{className:C.moreInfo,children:"Clear all generated fixtures."})}),Object(n.jsx)(at,{primaryButtonText:"Delete Tournament",secondaryButtonText:"Confirm Delete",onClickPrimary:function(){y((function(e){return!e}))},onClickSecondary:function(){if(!["delete","Delete","DELETE"].includes(document.getElementById("confirmDelete").value))return alert("Type 'delete' to complete this action");N("tournament/".concat(a),"delete",{},l,!1,!0,(function(){return window.location.href="/"}))},color:"secondary",useSecondary:v,inputId:"confirmDelete",inputLabel:"Type 'delete' to confirm this action",moreInfoComponent:Object(n.jsx)(B.a,{className:C.moreInfo,children:"Delete tournament and data associated with it."})})]})}function at(e){var t=et(),a=e.onClickPrimary,r=e.disabled,o=e.primaryButtonText,s=e.moreInfoComponent,c=e.useSecondary,i=e.onClickSecondary,l=e.secondaryButtonText,u=e.inputName,d=e.inputId,m=e.inputLabel,j=e.color;return Object(n.jsxs)(ae.a,{className:t.actionSet,children:[Object(n.jsxs)("div",{className:t.resetContainer,children:[Object(n.jsx)(g.a,{type:"button",variant:"contained",color:j||"primary",className:t.submit,onClick:a,fullWidth:!0,disabled:r,children:Object(n.jsx)(B.a,{className:t.actionButtonLabel,children:o})}),s]}),c&&Object(n.jsxs)("div",{className:t.resetContainer,children:[Object(n.jsx)(g.a,{type:"button",variant:"contained",color:"primary",className:t.submit,onClick:i,fullWidth:!0,children:Object(n.jsx)(B.a,{className:t.actionButtonLabel,children:l})}),Object(n.jsx)(I.a,{autoComplete:"confirm reset round",name:u,variant:"outlined",required:!0,fullWidth:!0,id:d,label:m,className:t.confirmActionInput})]})]})}var nt=a(348),rt=a(370),ot=a(171),st=a(105),ct=a.n(st),it=a(360),lt=a(165),ut=a.n(lt),dt=Object(b.a)((function(e){return{modal:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},loadingContainer:{outline:"none"},searchContainer:{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"90%",padding:10,maxHeight:"calc(80vh - 80px)",borderRadius:10,overflow:"auto",backgroundColor:"whitesmoke"},cancelContainer:{width:"100%",height:60,margin:10,padding:0,textAlign:"center",backgroundColor:"transparent"},cancelButton:{backgroundColor:"white",position:"sticky",padding:0,"& svg":{width:50,height:50}},resultButton:{display:"flex",justifyContent:"flex-start",backgroundColor:"#d8e7e8","&:hover":{backgroundColor:"#c8dddf"},width:300,padding:10,margin:10,borderRadius:8},teamBadge:{width:60,height:60,margin:"0 10px"}}}));function mt(e){var t=e.useActivity,a=e.handleClose,o=e.inputName,s=e.logoInputName,c=e.handleSelectedTeam,i=Object(r.useState)(!1),l=Object(d.a)(i,2),u=l[0],m=l[1],j=Object(r.useState)([]),b=Object(d.a)(j,2),h=b[0],x=b[1],p=dt();return Object(r.useEffect)((function(){if(t){m(!0);var e=document.getElementById(o).value;if(!e)return;fetch("https://www.thesportsdb.com/api/v1/json/1/searchteams.php?t=".concat(e)).then((function(e){return e.json()})).then((function(e){e&&e.teams&&x(e.teams)})).catch((function(e){return console.log(e)})).finally((function(){return m(!1)}))}}),[o,t]),Object(n.jsx)(E.a,{open:t,className:p.modal,onBackdropClick:a,children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ae.a,{className:p.cancelContainer,children:Object(n.jsx)(ot.a,{onClick:a,className:p.cancelButton,children:Object(n.jsx)(ut.a,{})})}),Object(n.jsxs)(te.a,{className:p.searchContainer,children:[u&&Object(n.jsx)(W.a,{size:100,thickness:4,className:p.loadingContainer}),!u&&0===h.length&&Object(n.jsx)(B.a,{children:"NO RESULTS"}),!u&&h&&h.map((function(e,t){return Object(n.jsxs)(g.a,{variant:"contained",onClick:(r=e.strTeam,i=e.strTeamBadge,function(){c(o,s,r,i),a()}),className:p.resultButton,children:[Object(n.jsx)(T.a,{alt:"Team badge",src:e.strTeamBadge,className:p.teamBadge}),e.strTeam]},t);var r,i}))]})]})})}var jt=Object(b.a)((function(){return{container:{padding:20,justifyContent:"center"},teamSetContainer:{padding:10,margin:10,backgroundColor:"floralwhite",width:"45%",minWidth:300},root:{width:250},input:{width:42},allInput:{fontSize:18},error:{color:"red",fontSize:"1.2em",margin:"auto",textAlign:"center"},submit:{marginTop:10,height:60,fontSize:19},nameFieldsContainer:{display:"flex",flexWrap:"wrap",justifyContent:"center"},teamNameForm:{width:"100%",margin:0,padding:0,border:"none"}}}));function bt(e){var t=e.tournament,a=e.tournamentId,o=jt(),s=Object(r.useState)(!1),c=Object(d.a)(s,2),i=c[0],l=c[1],u=t.teams.length,m=Object(r.useState)(u||4),j=Object(d.a)(m,2),b=j[0],h=j[1],x=Object(r.useState)(0!==t.teams.length),p=Object(d.a)(x,2),f=p[0],O=p[1],v=t.hasLeagueFixturesGenerated||!!t.currentRound,y={};t.teams.forEach((function(e,t){y["teamName".concat(t)]=e.teamName,y["teamLogo".concat(t)]=e.teamLogo,y["playerName".concat(t)]=e.playerName}));var w=Object(r.useState)(y),C=Object(d.a)(w,2),k=C[0],T=C[1],S=function(e){var t=e.target.name,a=e.target.value;T((function(e){return Object(je.a)(Object(je.a)({},e),{},Object(xe.a)({},t,a))}))};return Object(n.jsxs)(F.a,{container:!0,spacing:2,className:o.container,children:[Object(n.jsx)(U,{wait:i}),Object(n.jsx)(F.a,{item:!0,xs:3,children:Object(n.jsx)(B.a,{children:"Number of Teams"})}),Object(n.jsx)(F.a,{item:!0,xs:2,children:Object(n.jsx)(nt.a,{className:o.input,value:b,margin:"dense",onChange:function(e){h(""===e.target.value?"":Number(e.target.value))},onBlur:function(){b<4?h(4):b>30&&h(30)},inputProps:{step:1,min:4,max:30,type:"number","aria-labelledby":"input-slider",className:o.allInput,disabled:f}})}),Object(n.jsx)(F.a,{item:!0,xs:3,children:Object(n.jsx)(rt.a,{value:"number"===typeof b?b:0,min:4,max:30,onChange:function(e,t){h(t)},"aria-labelledby":"input-slider",disabled:f})}),Object(n.jsx)(F.a,{item:!0,xs:4,children:Object(n.jsx)(g.a,{color:"primary",variant:"outlined",onClick:function(){O((function(e){return e?window.confirm("Changing this will clear unsaved values. Do you want to continue?")?void 0:e:!e}))},disabled:v,children:f?"Enable Sliders":"Apply"})}),Object(n.jsx)(F.a,{item:!0,className:o.error,children:v&&Object(n.jsxs)(B.a,{children:["You can only change the player names as this tournament is already in progress.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"In order to update the team names, reset the tournament's fixtures."]})}),Object(n.jsxs)("div",{className:o.nameFieldsContainer,children:[!!f&&new Array(b).fill(null).map((function(e,a){return Object(n.jsx)(ht,{index:a,values:k,onChange:S,disabled:!f,disableTeamNames:v,useRealTeams:t.useRealTeams},a)})),!!f&&Object(n.jsx)(g.a,{type:"submit",variant:"contained",color:"secondary",className:o.submit,onClick:function(e){e.preventDefault();for(var t=[],n=[],r=[],o=0;o<b;o++)t.push(k["teamName".concat(o)]),n.push(k["teamLogo".concat(o)]),r.push(k["playerName".concat(o)]);var s={teamNames:t,teamLogos:n,playerNames:r};N("tournament/".concat(a,"/teams"),"post",s,l,!0,!0)},fullWidth:!0,children:"Save"})]})]})}function ht(e){var t=jt(),a=e.index,o=e.disabled,s=e.disableTeamNames,c=e.values,i=e.onChange,l=e.useRealTeams,u="teamName".concat(a),m="teamLogo".concat(a),j="playerName".concat(a),b=Object(r.useState)(!1),h=Object(d.a)(b,2),x=h[0],g=h[1],p=function(e){e&&e.preventDefault(),l&&g(!0)};return Object(n.jsxs)(ae.a,{className:t.teamSetContainer,children:[Object(n.jsx)(mt,{useActivity:x,handleClose:function(){g(!1)},inputName:u,logoInputName:m,handleSelectedTeam:function(e,t,a,n){var r={target:{name:t,value:n}};i({target:{name:e,value:a}}),n&&i(r)}}),a+1,Object(n.jsxs)(F.a,{container:!0,spacing:2,children:[Object(n.jsx)(F.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)("form",{onSubmit:p,className:t.teamNameForm,children:Object(n.jsx)(I.a,{autoComplete:"team name",name:u,variant:"outlined",required:!0,fullWidth:!0,id:u,label:"Team Name",onSubmit:p,inputProps:{className:t.allInput},InputProps:{endAdornment:l?Object(n.jsx)(it.a,{position:"end",children:Object(n.jsx)(ot.a,{onClick:p,disabled:o||s,children:Object(n.jsx)(ct.a,{})})}):void 0},disabled:o||s,value:c[u]||"",onChange:i})})}),Object(n.jsx)(F.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(I.a,{variant:"outlined",fullWidth:!0,id:j,label:"Player Name",name:j,autoComplete:"player name",inputProps:{className:t.allInput,disabled:o},value:c[j]||"",onChange:i})})]})]})}var xt=Object(b.a)((function(){return{noFixtures:{padding:20,textAlign:"center"}}}));function gt(e){var t=e.tournament,a=e.fixtures,r=a.leagueFixtures,o=t.useTwoLegs,s=t.useOneFinal,c=t.teams,i=t._id,l=xt();return t.hasLeagueFixturesGenerated||t.currentRound?Object(n.jsxs)(n.Fragment,{children:[t.hasLeagueFixturesGenerated&&Object(n.jsx)(Fe,{fixtures:r,teams:c,useTwoLegs:o,isUpdatingResults:!0,tournamentId:i}),t.currentRound&&Object(n.jsx)(Ie,{fixtures:a,teams:c,useTwoLegs:o,useOneFinal:s,isUpdatingResults:!0,tournamentId:i})]}):Object(n.jsx)(ae.a,{className:l.noFixtures,children:"Fixtures have not been generated yet."})}var pt=Object(b.a)((function(e){return{root:{flexGrow:1,width:"100%"},tabPanelContainer:{marginTop:10},appBarContainer:{display:"flex",flexDirection:"row",justifyContent:"center"}}}));function ft(e){var t=e.tournament,a=e.tournamentId,o=e.fixtures,s=pt(),c=Object(r.useState)("actions"),i=Object(d.a)(c,2),l=i[0],u=i[1];return Object(n.jsxs)(ae.a,{className:s.root,children:[Object(n.jsx)(h.a,{position:"sticky",color:"default",className:s.appBarContainer,children:Object(n.jsxs)(le.a,{value:l,onChange:function(e,t){u(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on",children:[Object(n.jsx)(ue.a,{label:"actions",value:"actions"}),Object(n.jsx)(ue.a,{label:"Settings",value:"settings"}),Object(n.jsx)(ue.a,{label:"Teams",value:"teams"}),Object(n.jsx)(ue.a,{label:"Fixtures",value:"fixtures"})]})}),Object(n.jsx)(he,{index:"actions",value:l,children:Object(n.jsx)(tt,{tournament:t,tournamentId:a,setAdminPage:u})}),Object(n.jsx)(he,{value:l,index:"settings",children:t.name&&Object(n.jsx)($e,{isCreating:!1,tournament:t})}),Object(n.jsx)(he,{value:l,index:"teams",children:Object(n.jsx)(bt,{tournament:t,tournamentId:a})}),Object(n.jsx)(he,{value:l,index:"fixtures",children:Object(n.jsx)(gt,{fixtures:o,tournament:t,tournamentId:a})})]})}var Ot=Object(b.a)((function(e){return{root:{paddingTop:10,paddingBottom:10},pageHeader:{color:"darkslategray",wordBreak:"break-all",marginBottom:10,padding:10,fontWeight:"bold"},indicator:{background:"firebrick"},appBarContainer:{display:"flex",flexDirection:"row",justifyContent:"center"},tabItem:{"&:selected":{fontWeight:"bold"}},tabPanelContainer:{marginTop:10},teamContainer:{display:"flex",flexWrap:"wrap",padding:0,justifyContent:"center"},noFixtures:{padding:20,textAlign:"center"},favoriteText:{margin:"20px auto",width:"fit-content"}}}));function vt(e){var t=e.tournamentId,a=e.user,s=Ot(),c=Object(r.useState)(!1),i=Object(d.a)(c,2),b=i[0],x=i[1],p=Object(r.useState)({notSet:!0}),f=Object(d.a)(p,2),O=f[0],v=f[1],w=Object(r.useState)(!1),C=Object(d.a)(w,2),k=C[0],T=C[1],S=Object(r.useState)(!1),I=Object(d.a)(S,2),F=I[0],L=I[1],A=Object(r.useState)([]),G=Object(d.a)(A,2),E=G[0],W=G[1],D=Object(r.useState)({notSet:!0}),P=Object(d.a)(D,2),K=P[0],M=P[1],z=Object(r.useState)([]),V=Object(d.a)(z,2),q=V[0],H=V[1],_=Object(j.h)().pathname.split("/"),Y=_[_.length-1],J=["table","admin","teams"].includes(Y)?Y:"fixtures",Q=o.a.useState(J),X=Object(d.a)(Q,2),$=X[0],Z=X[1],ee=Object(j.g)(),ne=Object(r.useCallback)(Object(u.a)(l.a.mark((function e(){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),a={},e.prev=2,e.next=5,y("tournament/".concat(t),"get");case 5:if(null!==(a=e.sent)){e.next=8;break}return e.abrupt("return",v({notFound:!0}));case 8:return v(a),W(a.teams),L(!a.isKnockout),e.next=13,y("tournament/".concat(t,"/fixtures"),"get");case 13:if(n=e.sent,M(n),a.isKnockout){e.next=20;break}return e.next=18,y("tournament/".concat(t,"/leagueTable"),"get");case 18:r=e.sent,H(r);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),a.name||v({notFound:!0}),console.log(e.t0);case 26:return e.prev=26,setTimeout((function(){return x(!1)}),100),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[2,22,26,29]])}))),[t]);Object(r.useEffect)((function(){ne().catch(void 0)}),[ne]),Object(r.useEffect)((function(){a&&y("tournament/".concat(t,"/isFavorite"),"get").then((function(e){return T(e)})).catch((function(e){return console.log(e)}))}),[t,a]);return Object(r.useEffect)((function(){if(O&&!O.notSet&&!O.notFound){var e={name:O.name,createdBy:O.admin.username,isKnockout:O.isKnockout,tournamentId:O._id},t=localStorage.getItem("recentTournaments");(t=(t=t?JSON.parse(t):[]).filter((function(e){return e.tournamentId!==O._id}))).length>4&&t.pop(),t.unshift(e),localStorage.setItem("recentTournaments",JSON.stringify(t))}}),[O]),O.notFound?Object(n.jsx)(R.a,{maxWidth:"lg",className:s.root,children:Object(n.jsx)(B.a,{children:"TOURNAMENT NOT FOUND"})}):O.notSet?Object(n.jsx)(R.a,{maxWidth:"lg",className:s.root,children:Object(n.jsx)(B.a,{children:"LOADING"})}):("admin"!==$||O.notSet||O.notFound||O.admin.username===a||(window.location.href="/tournament/".concat(t)),Object(n.jsxs)(R.a,{maxWidth:"lg",className:s.root,children:[Object(n.jsx)(U,{wait:b}),Object(n.jsx)(ae.a,{elevation:2,children:Object(n.jsx)(B.a,{variant:"h6",align:"center",className:s.pageHeader,children:O.name})}),Object(n.jsx)(h.a,{position:"sticky",color:"default",className:s.appBarContainer,children:Object(n.jsxs)(le.a,{value:$,onChange:function(e,a){Z(a);var n="/tournament/".concat(t);"fixtures"===a||"favorites"===a?ee.push("".concat(n)):ee.push("".concat(n,"/").concat(a))},classes:{indicator:s.indicator},textColor:"primary",variant:"scrollable",scrollButtons:"on",children:[Object(n.jsx)(ue.a,{icon:Object(n.jsx)(ie.a,{color:"favorites"===$?"secondary":"disabled"}),"aria-label":"favorites",value:"favorites"}),Object(n.jsx)(ue.a,{label:"Fixtures",className:s.tabItem,value:"fixtures"}),O&&!O.isKnockout&&Object(n.jsx)(ue.a,{label:"Table",className:s.tabItem,value:"table"}),Object(n.jsx)(ue.a,{label:"Teams",className:s.tabItem,value:"teams"}),!O.notSet&&O.admin.username===a&&Object(n.jsx)(ue.a,{label:"ADMIN",className:s.tabItem,value:"admin"})]})}),Object(n.jsx)(te.a,{className:s.tabPanelContainer,children:Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{path:"/tournament/:id/table",children:F&&Object(n.jsxs)(he,{value:$,index:"table",children:[!O.hasLeagueFixturesGenerated&&Object(n.jsx)(ae.a,{className:s.noFixtures,children:"Fixtures have not been generated yet."}),0!==q.length&&Object(n.jsx)(Me,{tableData:q})]})}),Object(n.jsx)(j.b,{path:"/tournament/:id/teams",children:Object(n.jsx)(he,{value:$,index:"teams",className:s.teamContainer,children:E.map((function(e,t){return Object(n.jsx)(wt,{team:e,index:t},t)}))})}),Object(n.jsx)(j.b,{path:"/tournament/:id/admin",children:O.admin.username===a&&Object(n.jsx)(he,{value:$,index:"admin",children:Object(n.jsx)(ft,{tournament:O,tournamentId:t,fixtures:K})})}),Object(n.jsxs)(j.b,{path:"/tournament/:id",children:[Object(n.jsxs)(he,{value:$,index:"favorites",children:[!a&&Object(n.jsx)(B.a,{className:s.favoriteText,children:Object(n.jsx)(m.b,{to:{pathname:"/login",state:{prevPage:window.location.href}},children:"Sign in to add to your favorites"})}),a&&Object(n.jsx)(g.a,{type:"button",variant:"contained",color:k?"primary":"secondary",className:s.submit,onClick:k?function(){N("tournament/".concat(t,"/favorites"),"delete",{},x),T(!1)}:function(){N("tournament/".concat(t,"/favorites"),"post",{},x),T(!0)},fullWidth:!0,children:k?"Remove from favorites":"Add to Favorites"})]}),Object(n.jsxs)(he,{value:$,index:"fixtures",children:[!O.hasLeagueFixturesGenerated&&!O.currentRound&&Object(n.jsx)(ae.a,{className:s.noFixtures,children:"Fixtures have not been generated yet."}),O.hasLeagueFixturesGenerated&&!K.notSet&&Object(n.jsx)(Fe,{teams:E,fixtures:K.leagueFixtures,useTwoLegs:O.useTwoLegs,tournamentId:t}),O.currentRound&&!K.notSet&&Object(n.jsx)(Ie,{teams:E,fixtures:K,useTwoLegs:O.useTwoLegs,useOneFinal:O.useOneFinal})]})]})]})})]}))}var yt=Object(b.a)((function(e){return{teamBox:{display:"flex",flexDirection:"column",padding:5,margin:5,borderRadius:5,width:"fit-content"},teamButton:{display:"flex",boxSizing:"border-box",justifyContent:"space-between",textAlign:"left",backgroundColor:"#f5e1e1","&:hover":{backgroundColor:"#f5e1e1"},width:300,margin:"0 auto"},teamIndex:{fontSize:24,color:"brown",fontFamily:"'Rubik Mono One', sans-serif !important"},name:{padding:10,margin:"0 5px",flex:1,fontWeight:e.typography.fontWeightBold},owner:{boxSizing:"border-box",margin:"0 auto",padding:5,paddingLeft:10,textAlign:"left",fontStyle:"italic",width:300,backgroundColor:"whitesmoke"},teamBadge:{width:60,height:60,margin:"0 5px","& svg, & path":{width:50,height:50}}}}));function wt(e){var t=e.team,a=e.index,r=yt();return Object(n.jsxs)(te.a,{className:"".concat(r.teamBox),size:"large",children:[Object(n.jsxs)(g.a,{className:r.teamButton,variant:"contained",children:[Object(n.jsx)(B.a,{className:r.teamIndex,children:a+1}),Object(n.jsx)(B.a,{className:r.name,children:t.teamName||"( empty )"}),Object(n.jsx)(T.a,{alt:"Team badge",src:t.teamLogo,className:r.teamBadge,children:!t.teamLogo&&Object(n.jsx)(me.a,{})})]}),Object(n.jsxs)(B.a,{paragraph:!0,className:r.owner,children:["Owner: ",t.playerName||"(empty)"]})]})}var Nt=Object(b.a)((function(e){return{paper:{marginTop:10,display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{display:"flex",flexDirection:"column",width:"100%",marginTop:e.spacing(1)},submit:{margin:"10px auto"},error:{width:"100%",padding:0,color:"red",fontSize:"1.2em",margin:"5px auto",textAlign:"center","&:empty":{margin:0}},resultsContainer:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",padding:10,width:"100%"},panelContainer:{width:"100%",padding:"10px 0"}}}));function Ct(){var e=Nt(),t=Object(r.useState)(!1),a=Object(d.a)(t,2),o=a[0],s=a[1],c=Object(r.useState)(""),i=Object(d.a)(c,2),m=i[0],j=i[1],b=Object(r.useState)([]),x=Object(d.a)(b,2),p=x[0],f=x[1],O=Object(r.useState)([]),v=Object(d.a)(O,2),w=v[0],N=v[1],C=Object(r.useState)("search"),k=Object(d.a)(C,2),F=k[0],L=k[1];Object(r.useEffect)((function(){y("tournament/explore","get").then((function(e){return N(e)})).catch((function(e){return console.log(e)}))}),[]);var A=Object(G.a)({initialValues:{searchString:""},validationSchema:z,onSubmit:function(e){s(!0),j(""),setTimeout(Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y("tournament/search?searchString=".concat(e.searchString),"get");case 3:a=t.sent,f(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),j(t.t0);case 10:return t.prev=10,s(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])}))),300)}});return Object(n.jsxs)(R.a,{component:"main",maxWidth:"md",children:[Object(n.jsx)(U,{wait:o}),Object(n.jsx)(S.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(T.a,{className:e.avatar,children:Object(n.jsx)(ct.a,{})}),Object(n.jsx)(h.a,{position:"sticky",color:"default",className:e.appBarContainer,children:Object(n.jsxs)(le.a,{value:F,onChange:function(e,t){L(t)},indicatorColor:"primary",textColor:"primary",variant:"standard",centered:!0,children:[Object(n.jsx)(ue.a,{label:"Search",value:"search"}),Object(n.jsx)(ue.a,{label:"Explore",value:"explore"})]})}),Object(n.jsx)(he,{index:"search",value:F,className:e.panelContainer,children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{className:e.form,onSubmit:A.handleSubmit,children:[Object(n.jsx)(I.a,{variant:"outlined",required:!0,fullWidth:!0,id:"searchString",label:"Search",name:"searchString",autoComplete:"search",onChange:A.handleChange,onBlur:A.handleBlur,value:A.values.searchString}),Object(n.jsx)(B.a,{className:e.error,children:A.touched.searchString&&A.errors.searchString}),Object(n.jsx)(B.a,{className:e.error,children:m}),Object(n.jsx)(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Search"})]}),Object(n.jsxs)(ae.a,{className:e.resultsContainer,children:[p.map((function(e){return Object(n.jsx)(se,{name:e.name,isKnockout:e.isKnockout,createdBy:e.admin.username,tournamentId:e._id},e._id)})),0===p.length&&Object(n.jsx)(B.a,{className:e.noResults,children:"No Results"})]})]})}),Object(n.jsx)(he,{value:F,index:"explore",className:e.panelContainer,children:Object(n.jsxs)(ae.a,{className:e.resultsContainer,children:[w.map((function(e){return Object(n.jsx)(se,{name:e.name,isKnockout:e.isKnockout,createdBy:e.admin.username,tournamentId:e._id},e._id)})),0===w.length&&Object(n.jsx)(B.a,{className:e.noResults,children:"Nothing to explore at the moment"})]})})]})]})}function kt(e){var t=Object(j.i)().id;return Object(n.jsx)(vt,{tournamentId:t,user:e.user})}var Tt=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),a=t[0],o=t[1],s=Object(r.useState)(!1),c=Object(d.a)(s,2),i=c[0],b=c[1],h=Object(r.useState)(!1),x=Object(d.a)(h,2),g=x[0],p=x[1],f=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,y("users/currentUser","get");case 4:t=e.sent,o(t.username),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),"no-user"===e.t0&&o("");case 11:return e.prev=11,setTimeout((function(){p(!1),b(!0)}),200),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f().catch((function(e){return console.log(e)}))}),[]),Object(n.jsxs)("div",{className:"App app ".concat(J.a.app),id:"app",children:[Object(n.jsx)(U,{wait:g}),Object(n.jsxs)(m.a,{children:[Object(n.jsx)(k,{user:a}),Object(n.jsx)("div",{className:J.a.belowNavBarContainer,id:"mainContent",children:i&&Object(n.jsxs)(j.d,{children:[Object(n.jsxs)(j.b,{path:"/signup",children:[a&&Object(n.jsx)(j.a,{to:"/"}),Object(n.jsx)(_,{})]}),Object(n.jsxs)(j.b,{path:"/login",children:[a&&Object(n.jsx)(j.a,{to:"/"}),Object(n.jsx)(V,{})]}),Object(n.jsx)(j.b,{path:"/search",children:Object(n.jsx)(Ct,{})}),Object(n.jsx)(j.b,{path:"/new",children:Object(n.jsx)(Xe,{user:a})}),Object(n.jsx)(j.b,{path:"/tournament/:id",children:Object(n.jsx)(kt,{user:a})}),Object(n.jsx)(j.b,{path:"/",children:Object(n.jsx)(re,{user:a})})]})})]})]})},St=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,373)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),o(e),s(e)}))};c.a.render(Object(n.jsx)(Tt,{}),document.getElementById("root")),St()}},[[291,1,2]]]);
//# sourceMappingURL=main.910a679e.chunk.js.map